// =========================
// Artist Mode Theme - LESS with Advanced Nesting and Mixins
// =========================

@import '../tokens/_index.less';
@import '../mixins/artist.less';

// Artist mode theme variables and global styles
[data-artist='true'] {
  --canvas-light: @artist-canvas-light;
  --canvas-dark: @artist-canvas-dark;
  --primary-green: @artist-primary;
  --border-color: @artist-border-color;
  --artist-shadow: @artist-shadow;
  --artist-shadow-strong: @artist-shadow-strong;
  --artist-shadow-extra: @artist-shadow-extra;
  --artist-border: @artist-border-width @artist-border-style @artist-border-color;

  font-family: @font-family-artist;

  // Global cursor changes
  body,
  .section,
  .search-input,
  .review-table,
  h1,
  h2,
  p,
  td,
  th {
    cursor: @artist-brush-cursor, auto;
  }

  .btn,
  .artist-toggle,
  .theme-toggle,
  button {
    cursor: @artist-brush-cursor, pointer;
  }

  input,
  textarea {
    cursor: text;
  }

  .section:active,
  .app:active {
    cursor: @artist-brush-cursor, grabbing;
  }

  // Section styling with icons
  .section {
    .artist-card(@artist-border-color, 1);
    background: var(--bg-card);
    margin-bottom: @space-lg;
    padding: @space-xl;

    &:nth-child(odd) {
      .artist-section(odd);
    }

    &:nth-child(even) {
      .artist-section(even);
    }

    // Section icons
    &::after {
      position: absolute;
      top: 0.9375rem;
      right: 1.5625rem;
      font-size: 2rem;
      z-index: @z-index-icon;
      filter: drop-shadow(0.125rem 0.125rem 0.25rem @drop-shadow-light);
    }

    // Different icons for different sections
    &:nth-child(1)::after {
      content: 'ü§ñ';
    }
    &:nth-child(2)::after {
      content: 'üóÑÔ∏è';
      top: 1.25rem;
      right: 1.875rem;
    }
    &:nth-child(3)::after {
      content: 'ü§ì';
    }
    &:nth-child(4)::after {
      content: 'üîçüêï';
      top: 0.625rem;
      right: 1.25rem;
    }

    // Gentle floating animation
    animation: gentle-float 8s ease-in-out infinite;

    &:nth-child(even) {
      animation: gentle-float 8s ease-in-out infinite reverse;
      animation-delay: -2s;
    }

    // Respect reduced motion
    @media (prefers-reduced-motion: reduce) {
      animation: none;

      &:nth-child(odd) {
        .artist-transform(@artist-rotate-slight);
      }

      &:nth-child(even) {
        .artist-transform(@artist-rotate-slight-alt);
      }
    }
  }

  // Header styling
  header {
    position: relative;
    text-align: center;
    margin-bottom: @space-xl;

    h1 {
      font-size: 2rem;
      font-weight: bold;
      .artist-transform(@artist-rotate-medium);
      text-shadow: 0.125rem 0.125rem 0rem @artist-shadow-color;
      letter-spacing: 0.125rem;
      color: #1a2332; // Default for light theme

      &::after {
        content: 'üê∫';
        margin-left: 0.9375rem;
        font-size: 1.75rem;
        vertical-align: middle;
      }

      // Theme-specific colors
      [data-theme='light'] & {
        color: #1a2332;
      }

      [data-theme='dark'] & {
        color: var(--border-color);
      }
    }
  }

  // Search input
  .search-input {
    .artist-border();
    border-radius: 1.5625rem;
    font-family: inherit;
    font-size: @font-size-body;
    .artist-transform(@artist-rotate-small);
    .artist-elevation(1);
  }

  .search-container::before {
    font-size: 1.125rem;
  }

  // Button styling with icons
  .btn {
    .artist-button();
    padding: @btn-padding-standard;

    &.file-btn {
      .artist-button('üìÅ ');
    }

    &.primary {
      .artist-button('üöÄ ');
    }

    &.approve {
      .artist-button();
    }

    &.reject {
      .artist-button();
    }
  }

  // Review table styling
  .review-table {
    .artist-border();
    border-collapse: separate;
    border-spacing: 0;
    background: var(--bg-card);
    transform: rotate(0deg);
    border-radius: 0.9375rem;
    overflow: hidden;
    box-shadow:
      0.25rem 0.25rem 0.75rem rgba(44, 62, 80, 0.15),
      0.125rem 0.125rem 0rem rgba(44, 62, 80, 0.2);
    width: 100%;
    color: var(--text-primary);

    // Table headers with icons and gradients
    th {
      .artist-border();
      border-bottom: @artist-border-width @artist-border-style @artist-border-color;

      &:first-child {
        .artist-table-header('üè∑Ô∏è ', 
          linear-gradient(180deg, #a3d2ff 0%, #baddff 33%, #d1e7ff 66%, #e8f2ff 100%),
          linear-gradient(180deg, #2f4157 0%, #2d3e52 33%, #2b3a4e 66%, #293649 100%)
        );
      }

      &:nth-child(2) {
        .artist-table-header('‚öñÔ∏è ', 
          linear-gradient(180deg, #a3d2ff 0%, #baddff 33%, #d1e7ff 66%, #e8f2ff 100%),
          linear-gradient(180deg, #2f4157 0%, #2d3e52 33%, #2b3a4e 66%, #293649 100%)
        );
      }

      &:nth-child(3) {
        .artist-table-header('üí≠ ', 
          linear-gradient(180deg, #a3d2ff 0%, #baddff 33%, #d1e7ff 66%, #e8f2ff 100%),
          linear-gradient(180deg, #2f4157 0%, #2d3e52 33%, #2b3a4e 66%, #293649 100%)
        );
      }

      &:nth-child(4) {
        .artist-table-header('üëç ', 
          linear-gradient(180deg, #a3d2ff 0%, #baddff 33%, #d1e7ff 66%, #e8f2ff 100%),
          linear-gradient(180deg, #2f4157 0%, #2d3e52 33%, #2b3a4e 66%, #293649 100%)
        );
      }
    }

    // Table body styling
    td {
      border-bottom: 0.0625rem solid rgba(44, 62, 80, 0.15);
      background: var(--bg-card);
      font-weight: 500;
      padding: 1rem 0.875rem;
      font-family: inherit;
      color: #2c3e50;
      font-size: @font-size-table;

      // Dark theme overrides
      [data-theme='dark'] & {
        border-bottom: 0.0625rem solid rgba(44, 62, 80, 0.3) !important;
        color: var(--text-primary-dark) !important;
      }

      &:first-child {
        border-left: none;
      }

      &:last-child {
        border-right: none;
      }

      // Decorative bottom border
      &::before {
        content: '';
        position: absolute;
        left: 0;
        bottom: 0;
        width: 100%;
        height: 0.0625rem;
        background: linear-gradient(90deg, transparent, rgba(44, 62, 80, 0.1), transparent);
        pointer-events: none;
      }
    }

    // Row states
    tbody tr {
      &:nth-child(even) td {
        background: rgba(74, 144, 226, 0.04);

        [data-theme='dark'] & {
          background: rgba(44, 62, 80, 0.08) !important;
        }
      }

      &:hover td {
        background: rgba(74, 144, 226, 0.12);
        transform: translateX(0.125rem);
        .transition(all, 0.2s ease);

        [data-theme='dark'] & {
          background: rgba(74, 144, 226, 0.15) !important;
        }
      }

      &.row-approved {
        .artist-row-state(approved, @success-green);
      }

      &.row-rejected {
        .artist-row-state(rejected, @error-red);
      }

      &:last-child td {
        border-bottom: none;
      }
    }

    // Action buttons
    .actions .btn {
      margin: 0 0.25rem;
      box-shadow: 0.125rem 0.125rem 0.25rem rgba(44, 62, 80, 0.3);
      border-width: 0.125rem;

      &:hover {
        transform: translateY(-0.0625rem) rotate(@artist-rotate-small);
        box-shadow: 0.1875rem 0.1875rem 0.375rem rgba(44, 62, 80, 0.4);
      }

      &.circular {
        &.approve.active {
          background: linear-gradient(135deg, @success-green, #4caf50);
          .artist-border(@artist-border-color);
          .artist-transform(@artist-rotate-small, 1.15);
          box-shadow: 0.25rem 0.25rem 0.75rem rgba(56, 142, 60, 0.4);
        }

        &.reject.active {
          background: linear-gradient(135deg, @error-red, #f44336);
          .artist-border(@artist-border-color);
          .artist-transform(@artist-rotate-small, 1.15);
          box-shadow: 0.25rem 0.25rem 0.75rem rgba(211, 47, 47, 0.4);
        }

        &:disabled {
          opacity: 0.2;
          .artist-transform(@artist-rotate-small, 0.85);

          &:hover {
            .artist-transform(@artist-rotate-small, 0.85);
          }
        }
      }
    }
  }

  // Table wrapper
  .table-wrapper {
    .artist-border(@artist-border-color);
    border-radius: 0.9375rem;
    box-shadow: 0.25rem 0.25rem 0.75rem rgba(44, 62, 80, 0.15);

    &.scrollable::-webkit-scrollbar-thumb {
      background: linear-gradient(135deg, @primary-green, @success-green);
      border-radius: 0.5rem;
    }
  }

  // Toggle buttons
  .artist-toggle {
    background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
    color: @white;
    border: 0.1875rem solid @artist-border-color;
    .artist-transform(@artist-rotate-large);
    box-shadow: 0.1875rem 0.1875rem 0rem @artist-shadow-color-strong;

    &:hover {
      .artist-transform(@artist-rotate-large, 1.1);
    }
  }

  .theme-toggle {
    .artist-transform(@artist-rotate-large-alt);
    border: 0.1875rem solid var(--border-color);
    box-shadow: 0.1875rem 0.1875rem 0rem @artist-shadow-color-strong;
  }

  // Pagination
  .pagination-btn,
  .pagination-number {
    .artist-border(@artist-border-color);
    border-radius: 1rem;
    .artist-transform(@artist-rotate-small);
    box-shadow: 0.125rem 0.125rem 0.25rem rgba(44, 62, 80, 0.2);
    font-weight: bold;

    &:hover:not(:disabled) {
      .artist-transform(@artist-rotate-small, 1, -0.125rem);
      box-shadow: 0.1875rem 0.1875rem 0.375rem rgba(44, 62, 80, 0.3);
    }

    &.active {
      background: linear-gradient(135deg, @primary-green, @success-green);
      border-color: @artist-border-color;
      .artist-transform(@artist-rotate-small, 1.05);
    }
  }

  // Loading state
  .loading-bar {
    .artist-border(@artist-border-color);
    background: rgba(44, 62, 80, 0.1);
  }

  .spinner-icon {
    .artist-transform(@artist-rotate-small);
    filter: drop-shadow(0.125rem 0.125rem 0.25rem rgba(44, 62, 80, 0.2));
  }

  .loading-content h3 {
    color: #2c3e50;
    text-shadow: 0.0625rem 0.0625rem 0.125rem rgba(0, 0, 0, 0.1);
  }

  // Empty state
  .empty-icon {
    .artist-transform(@artist-rotate-small);
    filter: drop-shadow(0.125rem 0.125rem 0.25rem rgba(44, 62, 80, 0.2));
  }

  .empty-content h3 {
    color: #2c3e50;
    text-shadow: 0.0625rem 0.0625rem 0.125rem rgba(0, 0, 0, 0.1);
  }

  // Modal styling
  .modal {
    .artist-modal(@artist-border-color);
  }

  .reject-modal {
    .artist-modal(@error-red);

    h3::before {
      content: 'ü§î ';
    }
  }

  // Form elements
  .form-textarea {
    .artist-form-field();
  }

  .form-label {
    color: @error-red;
    font-weight: @font-weight-bold;
    text-transform: uppercase;
    letter-spacing: 0.0625rem;
  }

  // File name styling
  .file-name {
    font-style: italic;
    font-weight: 500;

    &::before {
      content: 'üìÑ ';
    }
  }

  // Prompt text
  .prompt-text::before {
    content: 'üí° ';
    margin-right: 0.5rem;
  }

  // Rejection indicator and tooltip
  .rejection-indicator {
    .artist-transform(@artist-rotate-small);
    filter: drop-shadow(0.0625rem 0.0625rem 0.125rem rgba(0, 0, 0, 0.2));

    &:hover {
      .artist-transform(@artist-rotate-small, 1.3);
    }
  }

  .tooltip {
    .artist-tooltip(@error-red);

    [data-theme='dark'] & {
      background: @bg-card-dark;
      border-color: @error-red;
      color: @text-primary-dark;
    }
  }

  // Mobile adjustments
  @media (max-width: 48rem) {
    .toggle-buttons {
      top: @space-md;
      right: @space-md;
      gap: @space-xs;
    }

    .section::after {
      font-size: 1.5rem;
      top: 0.625rem;
      right: 0.9375rem;
    }

    header h1 {
      font-size: 1.5rem;
    }

    .section {
      padding: @space-lg;
    }
  }
}
